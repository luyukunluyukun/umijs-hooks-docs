(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"7CLZ":function(e,t,r){"use strict";var i=r("PpiC"),n=r("k1fw"),a=r("q1tI"),o=r.n(a),s=r("tJVT"),c=r("9/5/"),u=r.n(c),l=r("hKI/"),h=r.n(l);function d(){return"undefined"===typeof document||"undefined"===typeof document.visibilityState||"hidden"!==document.visibilityState}function f(){return"undefined"===typeof navigator.onLine||navigator.onLine}var v=new Map,g=(e,t,r)=>{var i=v.get(e);null!==i&&void 0!==i&&i.timer&&clearTimeout(i.timer);var n=void 0;t>-1&&(n=setTimeout((()=>{v.delete(e)}),t)),v.set(e,{data:r,timer:n,startTime:(new Date).getTime()})},b=e=>{var t=v.get(e);return{data:null===t||void 0===t?void 0:t.data,startTime:null===t||void 0===t?void 0:t.startTime}};function m(e,t){var r=!1;return function(){r||(r=!0,e(...arguments),setTimeout((()=>{r=!1}),t))}}function O(e){var t=Object(a["useRef"])((()=>{throw new Error("Cannot call an event handler while rendering.")}));t.current=e;var r=Object(a["useCallback"])((function(){var e=t.current;if(e)return e(...arguments)}),[t]);if("function"===typeof e)return r}var j=O,p=(e,t)=>{var r=Object(a["useRef"])(!1);Object(a["useEffect"])((()=>{if(r.current)return e();r.current=!0}),t)},w=p,y=[];function T(e){return y.push(e),function(){var t=y.indexOf(e);y.splice(t,1)}}var R=!1;if("undefined"!==typeof window&&window.addEventListener&&!R){var E=()=>{if(d()&&f())for(var e=0;e<y.length;e++){var t=y[e];t()}};window.addEventListener("visibilitychange",E,!1),window.addEventListener("focus",E,!1),R=!0}var S=T,D=[];function k(e){return D.push(e),function(){var t=D.indexOf(e);D.splice(t,1)}}var C=!1;if("undefined"!==typeof window&&window.addEventListener&&!C){var I=()=>{if(d())for(var e=0;e<D.length;e++){var t=D[e];t()}};window.addEventListener("visibilitychange",I,!1),C=!0}var P=k,F="AHOOKS_USE_REQUEST_DEFAULT_KEY";class L{constructor(e,t,r,i){this.config=void 0,this.service=void 0,this.count=0,this.unmountedFlag=!1,this.pollingWhenVisibleFlag=!1,this.pollingTimer=void 0,this.loadingDelayTimer=void 0,this.subscribe=void 0,this.unsubscribe=[],this.that=this,this.state={loading:!1,params:[],data:void 0,error:void 0,run:this.run.bind(this.that),mutate:this.mutate.bind(this.that),refresh:this.refresh.bind(this.that),cancel:this.cancel.bind(this.that),unmount:this.unmount.bind(this.that)},this.debounceRun=void 0,this.throttleRun=void 0,this.limitRefresh=void 0,this.service=e,this.config=t,this.subscribe=r,i&&(this.state=Object(n["a"])(Object(n["a"])({},this.state),i)),this.debounceRun=this.config.debounceInterval?u()(this._run,this.config.debounceInterval):void 0,this.throttleRun=this.config.throttleInterval?h()(this._run,this.config.throttleInterval):void 0,this.limitRefresh=m(this.refresh.bind(this),this.config.focusTimespan),this.config.pollingInterval&&this.unsubscribe.push(P(this.rePolling.bind(this))),this.config.refreshOnWindowFocus&&this.unsubscribe.push(S(this.limitRefresh.bind(this)))}setState(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state=Object(n["a"])(Object(n["a"])({},this.state),e),this.subscribe(this.state)}_run(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.pollingTimer&&clearTimeout(this.pollingTimer),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.count+=1;var i=this.count;return this.setState({loading:!this.config.loadingDelay,params:t}),this.config.loadingDelay&&(this.loadingDelayTimer=setTimeout((()=>{this.setState({loading:!0})}),this.config.loadingDelay)),this.service(...t).then((e=>{if(this.unmountedFlag||i!==this.count)return new Promise((()=>{}));this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer);var r=this.config.formatResult?this.config.formatResult(e):e;return this.setState({data:r,error:void 0,loading:!1}),this.config.onSuccess&&this.config.onSuccess(r,t),r})).catch((e=>{if(this.unmountedFlag||i!==this.count)return new Promise((()=>{}));if(this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.setState({data:void 0,error:e,loading:!1}),this.config.onError&&this.config.onError(e,t),this.config.throwOnError)throw e;return console.error(e),Promise.reject("useRequest has caught the exception, if you need to handle the exception yourself, you can set options.throwOnError to true.")})).finally((()=>{if(!this.unmountedFlag&&i===this.count&&this.config.pollingInterval){if(!d()&&!this.config.pollingWhenHidden)return void(this.pollingWhenVisibleFlag=!0);this.pollingTimer=setTimeout((()=>{this._run(...t)}),this.config.pollingInterval)}}))}run(){return this.debounceRun?(this.debounceRun(...arguments),Promise.resolve(null)):this.throttleRun?(this.throttleRun(...arguments),Promise.resolve(null)):this._run(...arguments)}cancel(){this.debounceRun&&this.debounceRun.cancel(),this.throttleRun&&this.throttleRun.cancel(),this.loadingDelayTimer&&clearTimeout(this.loadingDelayTimer),this.pollingTimer&&clearTimeout(this.pollingTimer),this.pollingWhenVisibleFlag=!1,this.count+=1,this.setState({loading:!1})}refresh(){return this.run(...this.state.params)}rePolling(){this.pollingWhenVisibleFlag&&(this.pollingWhenVisibleFlag=!1,this.refresh())}mutate(e){"function"===typeof e?this.setState({data:e(this.state.data)||{}}):this.setState({data:e})}unmount(){this.unmountedFlag=!0,this.cancel(),this.unsubscribe.forEach((e=>{e()}))}}function M(e,t){var r,i=t||{},o=i.refreshDeps,c=void 0===o?[]:o,u=i.manual,l=void 0!==u&&u,h=i.onSuccess,d=void 0===h?()=>{}:h,f=i.onError,v=void 0===f?()=>{}:f,m=i.defaultLoading,O=void 0!==m&&m,p=i.loadingDelay,y=i.pollingInterval,T=void 0===y?0:y,R=i.pollingWhenHidden,E=void 0===R||R,S=i.defaultParams,D=void 0===S?[]:S,k=i.refreshOnWindowFocus,C=void 0!==k&&k,I=i.focusTimespan,P=void 0===I?5e3:I,M=i.fetchKey,K=i.cacheKey,W=i.cacheTime,z=void 0===W?3e5:W,q=i.staleTime,x=void 0===q?0:q,_=i.debounceInterval,V=i.throttleInterval,H=i.initialData,A=i.ready,J=void 0===A||A,U=i.throwOnError,Y=void 0!==U&&U,N=Object(a["useRef"])(F),Q=j(e),Z=j(d),B=j(v),G=j(M);"formatResult"in i&&(r=i.formatResult);var X=j(r),$={formatResult:X,onSuccess:Z,onError:B,loadingDelay:p,pollingInterval:T,pollingWhenHidden:E,refreshOnWindowFocus:C,focusTimespan:P,debounceInterval:_,throttleInterval:V,throwOnError:Y},ee=j(((e,t)=>{ne((r=>(r[e]=t,Object(n["a"])({},r))))})),te=Object(a["useState"])((()=>{if(K){var e,t=null===(e=b(K))||void 0===e?void 0:e.data;if(t){N.current=t.newstFetchKey;var r={};return Object.keys(t.fetches).forEach((e=>{var i=t.fetches[e],n=new L(Q,$,ee.bind(null,e),{loading:i.loading,params:i.params,data:i.data,error:i.error});r[e]=n.state})),r}}return{}})),re=Object(s["a"])(te,2),ie=re[0],ne=re[1],ae=Object(a["useRef"])(ie);ae.current=ie;var oe=Object(a["useRef"])(),se=Object(a["useCallback"])((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(J){if(G){var i=G(...t);N.current=void 0===i?F:i}var a=N.current,o=ae.current[a];if(!o){var s=new L(Q,$,ee.bind(null,a),{data:H});o=s.state,ne((e=>(e[a]=o,Object(n["a"])({},e))))}return o.run(...t)}oe.current=t}),[M,ee,J]),ce=Object(a["useRef"])(se);ce.current=se,w((()=>{K&&g(K,z,{fetches:ie,newstFetchKey:N.current})}),[K,ie]);var ue=Object(a["useRef"])(!1);w((()=>{J&&(!ue.current&&oe.current&&ce.current(...oe.current),ue.current=!0)}),[J]),Object(a["useEffect"])((()=>{if(!l)if(Object.keys(ie).length>0){var e,t=K&&(null===(e=b(K))||void 0===e?void 0:e.startTime)||0;-1===x||(new Date).getTime()-t<=x||Object.values(ie).forEach((e=>{e.refresh()}))}else ce.current(...D)}),[]);var le=Object(a["useCallback"])((()=>{Object.values(ae.current).forEach((e=>{e.unmount()})),N.current=F,ne({}),ae.current={}}),[ne]);w((()=>{l||Object.values(ae.current).forEach((e=>{e.refresh()}))}),[...c]),Object(a["useEffect"])((()=>()=>{Object.values(ae.current).forEach((e=>{e.unmount()}))}),[]);var he=Object(a["useCallback"])((e=>()=>{console.warn("You should't call ".concat(e," when service not executed once."))}),[]);return Object(n["a"])(Object(n["a"])({loading:J&&!l||O,data:H,error:void 0,params:[],cancel:he("cancel"),refresh:he("refresh"),mutate:he("mutate")},ie[N.current]||{}),{},{run:se,fetches:ie,reset:le})}var K=M,W=r("Pv/L");function z(e,t){var r=t.refreshDeps,o=void 0===r?[]:r,c=t.ref,u=t.isNoMore,l=t.threshold,h=void 0===l?100:l,d=(t.fetchKey,Object(i["a"])(t,["refreshDeps","ref","isNoMore","threshold","fetchKey"])),f=Object(a["useState"])(!1),v=Object(s["a"])(f,2),g=v[0],b=v[1];Object(a["useEffect"])((()=>{t.fetchKey&&console.warn("useRequest loadMore mode don't need fetchKey!")}),[]);var m=K(e,Object(n["a"])(Object(n["a"])({},d),{},{fetchKey:e=>{var t;return(null===e||void 0===e||null===(t=e.list)||void 0===t?void 0:t.length)||0},onSuccess:function(){b(!1),t.onSuccess&&t.onSuccess(...arguments)}})),O=m.data,j=m.run,p=m.params,y=m.reset,T=m.loading,R=m.fetches,E=Object(a["useCallback"])((()=>{y();var e=Object(W["a"])(p),t=e.slice(1);j(void 0,...t)}),[j,y,p]),S=Object(a["useRef"])(E);S.current=E,w((()=>{t.manual||S.current()}),[...o]);var D=Object(a["useMemo"])((()=>{var e=[],t=O;return Object.values(R).forEach((r=>{var i,n;null!==(i=r.data)&&void 0!==i&&i.list&&(e=e.concat(null===(n=r.data)||void 0===n?void 0:n.list));r.loading||(t=r.data)})),Object(n["a"])(Object(n["a"])({},t),{},{list:e})}),[R,O]),k=!!u&&(!T&&!g&&u(D)),C=Object(a["useCallback"])((()=>{if(!k){b(!0);var e=Object(W["a"])(p),t=e.slice(1);j(D,...t)}}),[k,j,D,p]),I=()=>{!T&&!g&&c&&c.current&&c.current.scrollHeight-c.current.scrollTop<=c.current.clientHeight+h&&C()},P=Object(a["useRef"])(I);return P.current=I,Object(a["useEffect"])((()=>{if(!c||!c.current)return()=>{};var e=()=>P.current();return c.current.addEventListener("scroll",e),()=>{c&&c.current&&c.current.removeEventListener("scroll",e)}}),[P]),Object(n["a"])(Object(n["a"])({},m),{},{data:D,reload:E,loading:T&&0===D.list.length,loadMore:C,loadingMore:g,noMore:k})}var q=z;function x(e,t){t.paginated;var r=t.defaultPageSize,o=void 0===r?10:r,s=t.refreshDeps,c=void 0===s?[]:s,u=t.fetchKey,l=Object(i["a"])(t,["paginated","defaultPageSize","refreshDeps","fetchKey"]);Object(a["useEffect"])((()=>{u&&console.error("useRequest pagination's fetchKey will not work!")}),[]);var h=K(e,Object(n["a"])({defaultParams:[{current:1,pageSize:o}]},l)),d=h.data,f=h.params,v=h.run,g=h.loading,b=Object(i["a"])(h,["data","params","run","loading"]),m=f&&f[0]?f[0]:{},O=m.current,j=void 0===O?1:O,p=m.pageSize,y=void 0===p?o:p,T=m.sorter,R=void 0===T?{}:T,E=m.filters,S=void 0===E?{}:E,D=Object(a["useCallback"])((e=>{var t=Object(W["a"])(f),r=t[0],i=t.slice(1);v(Object(n["a"])(Object(n["a"])({},r),e),...i)}),[v,f]),k=(null===d||void 0===d?void 0:d.total)||0,C=Object(a["useMemo"])((()=>Math.ceil(k/y)),[y,k]),I=Object(a["useCallback"])(((e,t)=>{var r=e<=0?1:e,i=t<=0?1:t,n=Math.ceil(k/i);r>n&&(r=n),D({current:e,pageSize:t})}),[k,D]),P=Object(a["useCallback"])((e=>{I(e,y)}),[I,y]),F=Object(a["useCallback"])((e=>{I(j,e)}),[I,j]),L=Object(a["useRef"])(P);L.current=P,w((()=>{t.manual||L.current(1)}),[...c]);var M=Object(a["useCallback"])(((e,t,r)=>{D({current:e.current,pageSize:e.pageSize||o,filters:t,sorter:r})}),[S,R,D]);return Object(n["a"])({loading:g,data:d,params:f,run:v,pagination:{current:j,pageSize:y,total:k,totalPage:C,onChange:I,changeCurrent:P,changePageSize:F},tableProps:{dataSource:(null===d||void 0===d?void 0:d.list)||[],loading:g,onChange:M,pagination:{current:j,pageSize:y,total:k}},sorter:R,filters:S},b)}var _=x,V=o.a.createContext({});V.displayName="UseRequestConfigContext";var H=V;function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(a["useContext"])(H),o=Object(n["a"])(Object(n["a"])({},r),t),s=o.paginated,c=o.loadMore,u=o.requestMethod,l=Object(a["useRef"])(s),h=Object(a["useRef"])(c);if(l.current!==s)throw Error("You should not modify the paginated of options");if(h.current!==c)throw Error("You should not modify the loadMore of options");l.current=s,h.current=c;var d,f=function(){return fetch(...arguments).then((e=>{if(e.ok)return e.json();throw new Error(e.statusText)}))},v=u||f;switch(typeof e){case"string":d=()=>v(e);break;case"object":var g=e.url,b=Object(i["a"])(e,["url"]);d=()=>u?u(e):f(g,b);break;default:d=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new Promise(((t,n)=>{var a=e(...r),o=a;if(!a.then)switch(typeof a){case"string":o=v(a);break;case"object":var s=a.url,c=Object(i["a"])(a,["url"]);o=u?u(a):f(s,c);break}o.then(t).catch(n)}))}}return c?q(d,o):s?_(d,o):K(d,o)}H.Provider,t["a"]=A},"CyT/":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r("tJVT"),n=r("q1tI"),a=r("L2hj");function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(a["a"])(e),r=Object(i["a"])(t,2),o=r[0],s=r[1].toggle,c=Object(n["useMemo"])((()=>{var e=()=>s(!0),t=()=>s(!1);return{toggle:s,setTrue:e,setFalse:t}}),[s]);return[o,c]}},L2hj:function(e,t,r){"use strict";var i=r("tJVT"),n=r("q1tI");function a(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,r=Object(n["useState"])(e),a=Object(i["a"])(r,2),o=a[0],s=a[1],c=Object(n["useMemo"])((()=>{var r=void 0===t?!e:t,i=t=>{s(void 0===t?t=>t===e?r:e:t)},n=()=>s(e),a=()=>s(r);return{toggle:i,setLeft:n,setRight:a}}),[e,t]);return[o,c]}t["a"]=a},rpwH:function(e,t,r){"use strict";var i=r("q1tI"),n=(e,t)=>{var r=Object(i["useRef"])(!1);Object(i["useEffect"])((()=>{if(r.current)return e();r.current=!0}),t)};t["a"]=n}}]);